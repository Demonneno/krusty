# Krusty's Cloudy Dream
#### Video Demo: https://youtu.be/qg1ZVBvDIo0
#### Description:

### How to Play
#### Survive Homer's wrath as the toy Krusty jumps from vanishing cloud and to the other! Choose your preferred controls, but whatever you do, don't become complacent, as the Cloudy Dream can come crashing down! The controls:

### A/Left: Move left <br> D/Right: Move Right <br> Space: Jump <br> R: Reset or Continue <br> Esc: Exit the game

### The Making of a LÖVE2D Game
#### After watching Guy White's video on making a short game, I couldn't help but give this a shot. Per his advice, I began with Sheepolution's How to LÖVE guide, which I heavily relied upon to create a lot of the basics. The game initially began as just a square running on rectangles. At first, the rectangles randomly changed colors, but they were all in line with a random one dropping out. I essentially had a counter associated with each rectangle logged in a table and had it removed from the table by random selection based on a math.random function from love and specifying a min/max range to allow some sustainability of the platforms.

### As a Chicagoan... The Simpsons!
#### It's almost our identity, at least it was during the 80s and 90s. Everything Simpsons was fun, cool, and mysterious. Even their humor had a dark twist to it. Toss in my Social Studies teacher in high school being the brother of one of the animators and my notebooks covered in random Simpsons characters faces and it felt like home to try and create it. I knew there were plenty of corny games out there that never quite lived up to the arcade game's success, but the pickings for sprites that didn't require much work were slim. Fortunately, I found Krusty on [The Spriters Resource ](https://www.spriters-resource.com/master_system/krustysfunhouse/sheet/76898/) and it happened to be an old Master System game (Krusty's Fun House). It was almost a clean pluck, but I did have to reposition the sprites and border the individual frames to make Anim8 a bit happier and the end result cleaner.

### A gif that I enjoy too much
#### So, Homer is a favorite because he's just ridiculous in many ways. Ridiculously good looking, funny, and capable of consuming immense amounts of food. As a deep dish eating kid, we loved the guy. As an adult... we love the guy! I grabbed a gif from [Tenor](https://tenor.com/view/hungry-growling-stomach-the-simpsons-growling-homer-simpson-gif-16579317) and disassembled it into an animation sheet for anim8 to use. Just as with my Krusty sprites, these required a bit of playing around to get it right. Unlike the player animation, I left a little x axis differentiation to complement the platform shake.

### Why clouds? I don't know... it was a joke!
#### I was debating what else Krusty could jump on, but the clouds over at [Open Game Art](https://opengameart.org/content/cloud-tileset) seemed to fit the mood. At first it was kind of an upset stomach reference, but it just seemed fitting that Krusty's jumping on clouds. Although... It seems kind of silly, doesn't it? I didn't know what else would make the size discrepancy seem fitting, so this was it.

### The sounds are authentic The Simpsons as well.
#### These were downloaded from [The Sounds Resource] which had [Krusty the Clown Doll](https://www.sounds-resource.com/xbox_360/thesimpsonsgame/sound/22425/?source=genre) sounds that fit his petite size and an incredibly large [Homer Simpon](https://www.sounds-resource.com/xbox_360/thesimpsonsgame/sound/22498/?source=genre,%20https://getyarn.io/yarn-clip/06000256-e8f7-4599-b1a9-4951894e1c82) collection. All of these are from the Xbox 360 "The Simpsons Game". Unsurprisingly, the soundtrack is ALSO from The Simpsons Game. [KHInsider](https://downloads.khinsider.com/game-soundtracks/album/the-simpsons-game-original-videogame-soundtrack) has a large collection of game music from various platforms, but the Homer's Charge Song was very fitting for the courageous cloud hopping Krusty! The same Homer collection that was used for platform sounds as we as Krusty's death sounds. The last piece of the sounds was Homer's angry tummy, which I snipped from a [Yarn video](https://getyarn.io/yarn-clip/2347268e-dd86-4983-b5ef-5c41faf7ee61). "His tummy sounds angry, daddy!" Didn't make the cut, but it's still hilarious!

### From one came.. A lot of Lua files!
#### So, one of my big hiccups with using Lua and LÖVE2D was getting the object attributes straight. It was easy enough in a smaller sample and through the Sheepolution tutorial. I decided to write the entire game in one file. Not knowing how complex it would get, since it sounded so straightforward in my head, I thought it wasn't going to take as many lines as it would take time to make the lines work. I was wrong. There were hundreds of lines of code, and I just didn't know what to do with it all. It was turning into a mess and kept relying on the find searchbox to comb through the data. It was time to take the project into another direction and begin branching out my objects and sounds. I decided to keep the animations connected to the objects, except for the background, and separated only some of the sounds. The idea was to completely split everything apart, but it created another problem that I didn't expect; unexpected gaming behavior! My platform creations were unexpectedly acting crazy, sounds weren't interacting as expected, and the animations were being very burdensome to trigger/stop. Considering all of the challenges I overcame writing the code that almost looks foreign to me at this point (until I really look at it), I felt rather deflated by the complexity of implementing a bunch of time-sensitive triggers throughout the sheets. So, I overcame this the best way I knew how -- I kept the code that needed the concise triggering to happen within main.lua and kept the rest of the code in the other sheets.

### But that wasn't the end of the struggle.
#### Grok came in to help me quite a bit with the randomness of my platforms. While it wasn't too bad creating a random single plane platform that was more or less fixed in changing, the complexity of the shaking clouds, which Sheepolution's carried me most of the way through implementation, and the visibility were something else to deal with. I had to structure this stuff in a very specific order else the nil errors, the unexpected behavior, and the lack of a trigger ever stopping the effects/animations were overwhelming! So it took breaking down some of the code and eliminating functions until I could debug it back through. The problem that kept me from progressing in many cases was that the errors would trigger prior to any print functions debugging the object status. It took a lot of scaling back to keep adding to it.

### Platform creation and visibility
#### My goal was to prepopulate a  world full of platforms, use a collision detection to separate the platforms into two object tables; visible (chosen at random) and invisible (because collisions were detected). My love.update would then randomly choose a number between 2 and 9 seconds and perform a platform change, with a 1/2-second color shift to warn the player about what's going to happen. It took so much messing around to get the platforms to draw a left and right tile and to keep most of them on-screen. In fact, I couldn't ever get the updates to execute as planned, and since the game required at least one platform on-screen, I had to build a safety function to make anything off-screen invisible. That was an insane amount of frustration, but it finally came together on my handful of attempts. The debugging process was brutal because the only way to tell was to keep playing the game and see what would or wouldn't work!

### Overall, what's the point?
#### Well, the point is to set a high score! Who doesn't like taking the ranks of the high score? To keep our egos at bay, I decided to avoid allowing any initials to be entered... But really, I decided not to pursue creating the code to add your initials because a month-long process seems like a good limit to my invested time! You don't want to fall, so you keep jumping. The platforms do make you feel comfortable lounging on one at times, but I kind of like that because you put your guard down. Alternatively, you're just paranoid and constantly jumping around. Either way, the game helps us reflect on who we are as we play this tiny Krusty with Homer just gurlging away back there!
